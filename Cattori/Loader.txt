--
-- The loader for Cattori Hub
--
green   = Color3.new(0, 1, 0.498039)
yellow  = Color3.new(1, 1, 0.498039)

	game.StarterGui:SetCore("ChatMakeSystemMessage", {
		Text = "Welcome Cattori, "..game:GetService("Players").LocalPlayer.Name.."!",
		Color = green,
	})
	game.StarterGui:SetCore("ChatMakeSystemMessage", {
		Text = "Join the discord for more!",
		Color = green,
	})
	game.StarterGui:SetCore("ChatMakeSystemMessage", {
		Text = "cattoware.tk/discord",
		Color = yellow,
	})

local loader = {
	GUI = Instance.new("ScreenGui")
}
loader.GUI.Name = "Cattori"

loader.games = {}

function loader:registerGame(id, name, url)
	loader.games[tostring(id)] = {name = name, loadstring = url}
end

function loader:detectGame()
	local detectedGame = self.games[tostring(game.PlaceId)]
	
	if detectedGame then
		return detectedGame
	else
		loadstring(game:HttpGet('https://virtuallization.com/Cattori/Universal.txt'))()
	end
end
	-- games
loader:registerGame(73885730, "Prison Life", "https://virtuallization.com/Cattori/PrisonLife.txt")
loader:registerGame(31450932, "Ultimate Random Night", "https://virtuallization.com/Cattori/UltimateRandomNight.txt")
loader:registerGame(1938236522, "Scythe Simulator", "https://virtuallization.com/Cattori/ScytheSimulator.txt")
loader:registerGame(719754874, "Ragdoll Engine", "https://virtuallization.com/Cattori/RagdollEngine.txt")
loader:registerGame(1198663082, "Pushing Simulator", "https://virtuallization.com/Cattori/PushingSimulator.txt")
loader:registerGame(2243257031, "Sleeping Simulator", "https://virtuallization.com/Cattori/SleepingSimulator.txt")
loader:registerGame(1168263273, "Bad Business", "https://virtuallization.com/Cattori/BadBusiness.txt")
loader:registerGame(1119466531, "Legends Of Speed", "https://virtuallization.com/Cattori/LegendsOfSpeed.txt")
loader:registerGame(81762198, "Vehicle Simulator", "https://virtuallization.com/Cattori/VehicleSimulator.txt")
loader:registerGame(1883423040, "LGBTQ+ Hangout", "https://virtuallization.com/Cattori/LGBTQHangout.txt")
loader:registerGame(1058175943, "RPG World", "https://virtuallization.com/Cattori/RPGWorld.txt")
loader:registerGame(252473722, "Craft Wars Retro", "https://virtuallization.com/Cattori/CraftWarsRetro.txt")
loader:registerGame(10533488, "Craft Wars", "https://virtuallization.com/Cattori/CraftWars.txt")
loader:registerGame(1247975681, "Big Paintball", "https://virtuallization.com/Cattori/BigPaintball.txt") --V2
loader:registerGame(1895958909, "Science Simulator", "https://virtuallization.com/Cattori/ScienceSimulator.txt")
loader:registerGame(66654135, "Murder Mystery 2", "https://virtuallization.com/Cattori/MurderMystery.txt")
loader:registerGame(185639929, "Glue Piece", "https://virtuallization.com/Cattori/GluePiece.txt")
loader:registerGame(1701623492, "Tower of Misery", "https://virtuallization.com/Cattori/TowerofMisery.txt")
loader:registerGame(2293506912, "Happy Runner", "https://virtuallization.com/Cattori/HappyRunner.txt")
loader:registerGame(2203488982, "Rage Runner", "https://virtuallization.com/Cattori/RageRunner.txt")
loader:registerGame(83858907, "Speedrun 4", "https://virtuallization.com/Cattori/Speedrun4.txt")
loader:registerGame(2387288336, "Basically FNF", "https://virtuallization.com/Cattori/BasicallyFNF.txt")
loader:registerGame(279565647, "Lucky Block Battlegrounds", "https://virtuallization.com/Cattori/LuckyBlockBG.txt")
loader:registerGame(1671731888, "Pistol 1v1", "https://virtuallization.com/Cattori/Pistol1v1.txt") --V2
loader:registerGame(2424336727, "Bee Simulator", "https://virtuallization.com/Cattori/BeeSimulator.txt")
loader:registerGame(892043755, "Bubblegum Simulator", "https://virtuallization.com/Cattori/BubblegumSimulator.txt")
loader:registerGame(1959840877, "Psycho 100: Infinity", "https://virtuallization.com/Cattori/Psycho100Infinity.txt") --V2
loader:registerGame(2272767413, "Zero Two Dance", "https://virtuallization.com/Cattori/ZeroTwoDance.txt") --V2
loader:registerGame(2404080894, "Funky friday", "https://virtuallization.com/Cattori/FunkyFriday.txt") --V2

	-- end
local detectedGame = loader:detectGame()

if detectedGame then
if not ({pcall(function()
			local Elements = {"Line", "Text", "Image", "Circle", "Square", "Quad", "Triangle"}
			for i, v in ipairs(Elements) do
				Drawing.new(v):Remove()
			end
		end)})[1] then
		
		Drawing = nil
	end
--
	loadstring(game:HttpGet(detectedGame.loadstring))()
end
